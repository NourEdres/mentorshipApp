{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import'./LobbyPage.css';import{useUser}from'./UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LobbyPage=()=>{const[codeBlocks,setCodeBlocks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const navigate=useNavigate();const{user}=useUser();useEffect(()=>{const fetchData=async()=>{try{const response=await fetch('https://mentorshipapp.onrender.com/api/codeblocks');const data=await response.json();const formattedBlocks=data.map(block=>({...block,createdAt:new Date(block.createdAt).toLocaleString('en-GB',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit',hour12:false}),updatedAt:new Date(block.updatedAt).toLocaleString('en-GB',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit',hour12:false})}));setCodeBlocks(formattedBlocks);setLoading(false);}catch(error){console.error('Error fetching data:',error);setError(error);setLoading(false);}};fetchData();},[]);const handleBlockClick=blockId=>navigate(\"/codeblock/\".concat(blockId));const renderCard=block=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",onClick:()=>handleBlockClick(block._id),children:[/*#__PURE__*/_jsx(\"h3\",{children:block.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Created at: \",block.createdAt]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Last update: \",block.updatedAt]})]},block._id);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{children:\"Error loading code blocks.\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",user.name,\"!\"]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Choose Code Block\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cards-container\",children:codeBlocks.map(renderCard)}),user.role==='Mentor'&&/*#__PURE__*/_jsx(\"div\",{className:\"add-code-block\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/codeblock/new'),children:\"Add Code Block\"})})]});};export default LobbyPage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useUser","jsx","_jsx","jsxs","_jsxs","LobbyPage","codeBlocks","setCodeBlocks","loading","setLoading","error","setError","navigate","user","fetchData","response","fetch","data","json","formattedBlocks","map","block","createdAt","Date","toLocaleString","day","month","year","hour","minute","hour12","updatedAt","console","handleBlockClick","blockId","concat","renderCard","className","onClick","_id","children","title","name","role"],"sources":["C:/Users/user/Desktop/MentorshipApp/client/src/LobbyPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './LobbyPage.css';\r\nimport { useUser } from './UserContext'; \r\n\r\nconst LobbyPage = () => {\r\n    const [codeBlocks, setCodeBlocks] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const navigate = useNavigate();\r\n    const { user } = useUser();\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await fetch('https://mentorshipapp.onrender.com/api/codeblocks');\r\n                const data = await response.json();\r\n                const formattedBlocks = data.map(block => ({\r\n                    ...block,\r\n                    createdAt: new Date(block.createdAt).toLocaleString('en-GB', {\r\n                        day: '2-digit',\r\n                        month: '2-digit',\r\n                        year: 'numeric',\r\n                        hour: '2-digit',\r\n                        minute: '2-digit',\r\n                        hour12: false\r\n                    }), \r\n                    updatedAt: new Date(block.updatedAt).toLocaleString('en-GB', {\r\n                        day: '2-digit',\r\n                        month: '2-digit',\r\n                        year: 'numeric',\r\n                        hour: '2-digit',\r\n                        minute: '2-digit',\r\n                        hour12: false\r\n                    })\r\n                }));\r\n                setCodeBlocks(formattedBlocks);\r\n                setLoading(false);\r\n            } catch (error) {\r\n                console.error('Error fetching data:', error);\r\n                setError(error);\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    const handleBlockClick = blockId => navigate(`/codeblock/${blockId}`);\r\n\r\n    const renderCard = (block) => (\r\n        <div key={block._id} className=\"card\" onClick={() => handleBlockClick(block._id)}>\r\n            <h3>{block.title}</h3>\r\n            <p>Created at: {block.createdAt}</p>\r\n            <p>Last update: {block.updatedAt}</p>\r\n\r\n\r\n        </div>\r\n    );\r\n\r\n    if (loading) return <p>Loading...</p>;\r\n    if (error) return <p>Error loading code blocks.</p>;\r\n\r\n    return (\r\n        <div>\r\n            <span>Welcome, {user.name}!</span>\r\n            <h1>Choose Code Block</h1>\r\n            <div className=\"cards-container\">\r\n                {codeBlocks.map(renderCard)}\r\n            </div>\r\n            {user.role === 'Mentor' && (\r\n                <div className=\"add-code-block\">\r\n                    <button onClick={() => navigate('/codeblock/new')}>Add Code Block</button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LobbyPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}